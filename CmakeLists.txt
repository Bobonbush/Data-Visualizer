cmake_minimum_required(VERSION 3.10)

# Set the project name
project(DATAVISUALIZER)

# Specify the C++ standard
set(CMAKE_CXX_STANDARD 11)
set(CMAKE_CXX_STANDARD_REQUIRED True)


# Specify the path to GLFW
set(GLFW_PATH "GLFW")
set(GLEW_PATH "GLEW")
set(GLM_PATH "GLM")
set(FreeType_PATH "FreeType")
set(GLAD_PATH "GLAD")

set(Code "Code")



# Add the GLFW include directory
include_directories(${GLFW_PATH}/include)

include_directories(${GLAD_PATH}/include)
include_directories(${GLM_PATH})
include_directories(${FreeType_PATH}/include)
include_directories(${Code})

    # Add the GLFW library directory


link_directories(${GLFW_PATH}/lib-vc2022)
link_directories(${FreeType_PATH}/objs)



# Add the executable
add_executable(DATAVISUALIZER   Code/main.cpp
                                Code/Utils/shader.cpp
                                Code/Utils/shader.h
                                Code/Utils/Texture.cpp
                                Code/Utils/Texture.h
                                Code/Camera.h
                                Code/Utils/Cursor.cpp
                                Code/Utils/Cursor.h
                                GLAD/src/glad.c
                                Code/Tools/slideTools.cpp
                                Code/Tools/slideTools.h
                                Code/Tools/ToolBar.cpp
                                Code/Tools/ToolBar.h
                                Code/Tools/button.cpp
                                Code/Tools/button.h
                                Code/Algorithms/AVL.cpp
                                Code/Algorithms/AVL.h
                                Code/Algorithms/node.cpp
                                Code/Algorithms/node.h
                                Code/Algorithms/234-tree.cpp
                                Code/Algorithms/234-tree.h
                                Code/Algorithms/Trie.cpp
                                Code/Algorithms/Trie.h
                                Code/Interactive/bar.cpp
                                Code/Interactive/bar.h
                                Code/Tools/Manager.cpp 
                                Code/Tools/Manager.h
                                Code/Algorithms/graph.cpp 
                                Code/Algorithms/graph.h
                                Code/Tools/slidebox.cpp
                                Code/Tools/slidebox.h
                                Code/Interactive/Scroll.cpp 
                                Code/Interactive/Scroll.h
                              )


# Link against GLFW and other necessary libraries


target_link_libraries(DATAVISUALIZER glfw3 opengl32)
target_link_libraries(DATAVISUALIZER freetype)


# Copy the shader files to the build directory
set(SHADERDIR "${CMAKE_CURRENT_SOURCE_DIR}/Shaders")
set(ASSETS "${CMAKE_CURRENT_SOURCE_DIR}/Assets")
set(FREETYPE "${CMAKE_CURRENT_SOURCE_DIR}/FreeType/objs")


add_custom_command(TARGET DATAVISUALIZER POST_BUILD
    COMMAND ${CMAKE_COMMAND} -E copy_directory
    ${SHADERDIR} $<TARGET_FILE_DIR:DATAVISUALIZER>)
add_custom_command(TARGET DATAVISUALIZER POST_BUILD
    COMMAND ${CMAKE_COMMAND} -E copy_directory
    ${ASSETS} $<TARGET_FILE_DIR:DATAVISUALIZER>)

add_custom_command(TARGET DATAVISUALIZER POST_BUILD
    COMMAND ${CMAKE_COMMAND} -E copy_directory
    ${FREETYPE} $<TARGET_FILE_DIR:DATAVISUALIZER>)

